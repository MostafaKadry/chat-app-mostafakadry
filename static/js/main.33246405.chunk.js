(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{202:function(e,t,s){},222:function(e,t,s){},223:function(e,t,s){},225:function(e,t,s){},386:function(e,t,s){},387:function(e,t,s){},388:function(e,t,s){},389:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s(178),c=s.n(a),r=s(61),i=s(2),j=s(18),o=(s(202),s(1)),l=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),s=t[0],a=t[1],c=Object(n.useState)(""),i=Object(j.a)(c,2),l=i[0],u=i[1];return Object(o.jsx)("div",{children:Object(o.jsx)("div",{className:"joinOuterContainer",children:Object(o.jsxs)("div",{className:"joinInnerContainer",children:[Object(o.jsx)("h1",{className:"heading",children:"Join"}),Object(o.jsx)("div",{children:Object(o.jsx)("input",{placeholder:"Name",className:"joinInput",type:"text",onChange:function(e){return a(e.target.value)}})}),Object(o.jsx)("div",{children:Object(o.jsx)("input",{placeholder:"Room",className:"joinInput mt-20",type:"text",onChange:function(e){return u(e.target.value)}})}),Object(o.jsx)(r.b,{onClick:function(e){return s&&l?null:e.preventDefault()},to:"/chat?name=".concat(s,"&room=").concat(l),children:Object(o.jsx)("button",{className:"button mt-20",type:"submit",children:"Sign In"})})]})})})},u=s(197),m=s(179),b=s.n(m),d=s(196),x=(s(222),s(223),function(e){var t=e.users,s=Array.from(t);return Object(o.jsxs)("div",{className:"textContainer",children:[Object(o.jsx)("span",{class:"badge bg-success mx-3",children:"Users in room"}),s.map((function(e,t){return Object(o.jsx)("span",{class:"badge bg-info text-dark mx-3",id:e.id,children:e.name},t)}))]})});s(224);var O,h=function(e){var t=e.room,s=e.users;return Object(o.jsxs)("div",{className:"infoBar",children:[Object(o.jsxs)("div",{className:"leftInnerContainer",children:[Object(o.jsx)("span",{className:"onlineIcon"}),Object(o.jsx)("h3",{children:t})]}),Object(o.jsx)("div",{children:Object(o.jsx)(x,{users:s})}),Object(o.jsx)("div",{className:"rightInnerContainer",children:Object(o.jsx)("a",{href:"/",children:Object(o.jsx)("i",{className:"far fa-window-close"})})})]})},f=(s(225),function(e){var t=e.setMessage,s=e.sendMessage,n=e.message;return Object(o.jsxs)("form",{className:"form",children:[Object(o.jsx)("input",{className:"input",type:"text",placeholder:"Type a message...",value:n,onChange:function(e){var s=e.target.value;return t(s)},onKeyPress:function(e){return"Enter"===e.key?s(e):null}}),Object(o.jsx)("button",{className:"sendButton",onClick:function(e){return s(e)},children:"Send"})]})}),p=s(195),g=(s(386),s(126)),v=s.n(g),N=function(e){var t=e.message,s=t.text,n=t.user,a=e.name,c=!1;return n===a.trim().toLowerCase()&&(c=!0),c?Object(o.jsxs)("div",{className:"messageContainer justifyEnd",children:[Object(o.jsx)("p",{className:"sentText pr-10",children:n}),Object(o.jsxs)("div",{className:"messageBox backgroundBlue",children:[Object(o.jsx)("span",{className:"messageContainer-time"}),Object(o.jsx)("p",{className:"messageText colorWhite",children:v.a.emojify(s)})]})]}):Object(o.jsxs)("div",{className:"messageContainer justifyStart",children:[Object(o.jsxs)("div",{className:"messageBox backgroundLight",children:[Object(o.jsx)("span",{className:"messageContainer-time"}),Object(o.jsx)("p",{className:"messageText colorDark",children:v.a.emojify(s)})]}),Object(o.jsx)("p",{className:"sentText pl-10 ",children:n})]})},y=(s(387),function(e){var t=e.messages,s=e.name;return Object(o.jsx)(p.a,{className:"messages",children:t.map((function(e,t){return Object(o.jsx)("div",{children:Object(o.jsx)(N,{message:e,name:s})},t)}))})}),C=(s(388),function(){var e=Object(i.e)(),t="https://chat-app-mostafakadry.herokuapp.com/",s=Object(n.useState)(""),a=Object(j.a)(s,2),c=a[0],r=a[1],l=Object(n.useState)(""),m=Object(j.a)(l,2),x=m[0],p=m[1],g=Object(n.useState)(""),v=Object(j.a)(g,2),N=v[0],C=v[1],k=Object(n.useState)(""),S=Object(j.a)(k,2),I=S[0],w=S[1],B=Object(n.useState)([]),E=Object(j.a)(B,2),M=E[0],D=E[1];Object(n.useEffect)((function(){var s=b.a.parse(e.search),n=s.name,a=s.room;return O=Object(d.a)(t),p(a),r(n),O.emit("join",{name:n,room:a},(function(e){e&&(alert(e),window.location="/")})),function(){O.emit("disconnect",{name:n,room:a}),O.off()}}),[t,e.search]),Object(n.useEffect)((function(){O.on("message",(function(e){D([].concat(Object(u.a)(M),[e]))}))}),[I,M]),Object(n.useEffect)((function(){O.on("roomData",(function(e){e.room;var t=e.users;C(t)}))}),[N]);return Object(o.jsx)("div",{className:"outerContainer",children:Object(o.jsxs)("div",{className:"myContainer",children:[Object(o.jsx)(h,{room:x,users:N}),Object(o.jsx)(y,{messages:M,name:c}),Object(o.jsx)(f,{message:I,setMessage:w,sendMessage:function(e){e.preventDefault(),I&&O.emit("sendMessage",I,(function(){w("")}))}})]})})}),k=function(){return Object(o.jsxs)(r.a,{children:[Object(o.jsxs)(i.c,{children:[Object(o.jsx)(i.a,{path:"/",exact:!0,element:Object(o.jsx)(l,{})}),Object(o.jsx)(i.a,{path:"/chat",element:Object(o.jsx)(C,{})})]}),Object(o.jsxs)("div",{style:{background:"#1A1A1D",textAlign:"center"},children:[Object(o.jsx)("span",{class:"badge bg-info text-dark mx-3",children:"made by: Mostafa Kadry"}),Object(o.jsx)("span",{class:"badge bg-info text-dark mx-3",children:"+201009158274"}),Object(o.jsx)("span",{class:"badge bg-info text-dark mx-3",children:"mostafakadry806@gmail.com"})]})]})};c.a.render(Object(o.jsx)(k,{}),document.getElementById("root"))}},[[389,1,2]]]);
//# sourceMappingURL=main.33246405.chunk.js.map